Table users {
  id integer [pk, increment]
  email varchar [not null]
  username varchar [not null]
  password varchar [not null]
  phone varchar
  gender varchar 
  avatar varchar 
  isActive bool [default: true]
  roleId integer [not null, ref : > roles.id]
}
Table roles {
  id integer [pk, increment]
  name varchar [not null]
  isActive bool [default: true]
}
Table users_address {
  id integer [pk, increment]
  userID integer [not null, ref : > users.id]
  addressID integer [not null, ref : > address.id]
  isActive bool [default: true]
}
Table address {
  id integer [pk, increment]
  label varchar [not null]
  province varchar [not null]
  district varchar [not null]
  ward varchar [not null]
  street varchar [not null]
  latitude float [not null]
  longitude float [not null]
  isDefault bool [default: false]
  isActive bool [default: true]
}
Table restaurants {
  id integer [pk, increment]
  name varchar [not null]
  imageUrl varchar
  phone varchar
  openTime time
  closeTime time
  rating integer
  status integer
  userId integer [not null, ref : > users.id]
  addressId integer [not null, ref: > address.id]
  isActive bool [default: true]
}
Table category_restaurant_map {
  id integer [pk, increment]
  restaurantID integer [not null, ref : > restaurants.id]
  categoryID integer [not null, ref : > categories_restaurant.id]
}
Table category_product_map {
  id integer [pk, increment]
  productID integer [not null, ref : > products.id]
  categoryID integer [not null, ref : > categories_product.id]
}
Table categories_restaurant {
  id integer [pk, increment]
  name varchar [not null]
  isActive bool [default: true]
}
Table categories_product {
  id integer [pk,increment]
  name varchar [not null]
  isActive bool [default: true]
}
Table menus {
  id integer [pk,increment]
  name varchar [not null]
  isActive bool [default: true]

  restaurantID integer [not null, ref : > restaurants.id]
}
Table products {
  id integer [pk, increment]
  name varchar [not null]
  description text
  price integer [not null]
  imageUrl varchar
  available boolean [default: true]

  restaurantID integer [not null, ref: > restaurants.id]
  menuID integer [ref : > menus.id]
  isActive bool [default: true]
}

Table revenue_reports {
  id integer [pk, increment]
  month integer [not null]
  year integer [not null]
  totalOrders integer 
  totalRevenue integer
  isActive bool [default: true]

  restaurantId integer [not null, ref : > restaurants.id]
}

Table discounts {
  id integer [pk, increment]
  code varchar [not null]
  description varchar
  percent float
  minOrderVale integer
  quantity integer [not null]
  startTime timestamp
  endTime timestamp
  status varchar
  isActive bool [default: true]
}

Table orders {
  id integer [pk, increment]
  totalPrice integer [not null]
  status integer [not null]
  shippingFee integer [not null]
  isActive bool [default: true]
  note text

  userId integer [not null, ref : > users.id]
  restaurantId integer [not null, ref: > restaurants.id]
  addressId integer [not null, ref: > address.id]
  discountId integer [ref: > discounts.id]
}
Table order_details {
  id integer [pk, increment]
  quantity integer [not null]
  note text
  isActive bool [default:true]

  productId integer [not null, ref : > products.id]
  orderId integer [not null, ref: > orders.id]
}
Table payments {
  id integer [pk, increment]
  paymentMethod varchar [not null]
  status integer [not null]
  isActive bool [default:true]
  
  orderId integer [not null, ref: > orders.id]
}
Table feedbacks {
  id integer [pk, increment]
  rating integer [not null]
  content varchar [not null]
  imageUrl varchar 
  isActive bool [default: true]
  orderId integer [not null, ref : > orders.id]
}
Table responses {
  id integer [pk, increment]
  sentId integer [ref : > users.id]
  feedbackID integer [not null, ref: > feedbacks.id]
  content text
  imageUrl varchar
  response text
  isActive bool [default: true]
}

Table notifications {
  id integer [pk,increment]
  content text [not null]
  type integer [not null]
  isRead bool
  isActive bool [default: true]
  sentId integer [not null, ref : > users.id]
  receivedId integer [not null, ref : > users.id]
  orderId integer [ref: > orders.id]
}
Table carts {
  id integer [pk,increment]
  status string
  userID integer [not null, ref : > users.id]
  isActive bool [default: true]
}
Table cart_item {
  id integer [pk,increment]
  cartId integer [not null, ref : > carts.id]
  productID integer [not null, ref: > products.id]
  quantity integer [default: 1]
  unitPrice number 
  isActive bool [default:true]
}
